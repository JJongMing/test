<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
    <title>Document</title>
    <style type="text/css">
        @import url('https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap');

        
        .border {
            border-radius : 8px;
            width : 200px;
            height : 35px;
            margin : 10px;    
        }

        .form-group {
            margin-left : 50px;
        }

        #emailForm {
            border : 2px solid black;
            border-radius: 8px;
            width : 500px;            
            font-weight: 900;
            padding : 30px;
            color : #333;
            font-size : 13pt;
            font-family: 'Gamja Flower', cursive;
        }

        #submitBtn {
            margin-left : 100px;
        }

        .all {
            position : relative;
            left : 5%;
            font-family: 'Gamja Flower', cursive;            
        }
    </style>    
</head>
<body>
    <div class="contact-area bg-color1 p-t-130 p-b-130">
              <div class="all">
                       <div class="inner-title">
                          <h5 class="text-bg-success p-3" style="width:500px; border-radius:15px; text-align:center; font-weight: 700; font-size:20pt" > 다온링크에 지원하기! </h5>
                       </div>
                       <form id="emailForm" class="gform" method="POST" data-email="wydalsdl@daonlink.com" 
                             action="https://script.google.com/macros/s/AKfycbwjWvH2Dha0n82PxtjMvMqH6NOFbx6m02LNomW5rfNrnAc2DZtBw9WIf4wts2AuTjn3/exec">
                          <div class="form-row">
                             <div class="col-md-12">
                                <div class="form-group">
                                    이름 : 
                                    <input type="text" class="border border-success-subtle" id="Name" name="Name" placeholder="  이름 입력" required>
                                </div>

                                <div class="form-group">
                                    이메일 : 
                                    <input type="email" class="border border-success-subtle" id="Email" name="Email" placeholder="  E-mail 입력" required>
                                </div>

                                <div class="form-group">
                                    연락처 :
                                    <input type="tel" class="border border-success-subtle" id="tel" name="tel" placeholder="  010-1234-5678" required>
                                 </div>

                                <div class="form-group">
                                    생년월일 :
                                    <input type="date" class="border border-success-subtle" id="birthDay" name="birthDay" value="1995-01-01" required>
                                </div>
                                <div class="form-group">
                                    개인 포트폴리오 주소 입력
                                    <input type="text" class="border border-success-subtle"id="URL" name="URL" placeholder="  https://" style="width:350px;">
                                </div>
                                
                                <div class="form-group">
                                    담당자에게 추가로 전달하고 싶은 내용                                    
                                    <textarea class="border border-success-subtle" id="message" name="message" rows="5" placeholder="  담당자에게 전하고 싶은 내용 자유롭게 기재 " style="width:350px; height:150px;"></textarea>
                                </div>
                                <!--
                                @fakedepth 이슈 . 
                                <div class="form-group">
                                    <input type="file" class="form-control" id="file" name="file">
                                 </div>
                                 -->
                                <script type="text/javascript">
                                   (function() {
                                      // get all data in form and return object
                                      function getFormData(form) {
                                         var elements = form.elements;
                                         var honeypot;
     
                                         var fields = Object.keys(elements).filter(function(k) {
                                            if (elements[k].name === "honeypot") {
                                            honeypot = elements[k].value;
                                            return false;
                                            }
                                            return true;
                                         }).map(function(k) {
                                            if(elements[k].name !== undefined) {
                                            return elements[k].name;
                                            // special case for Edge's html collection
                                            }else if(elements[k].length > 0){
                                            return elements[k].item(0).name;
                                            }
                                         }).filter(function(item, pos, self) {
                                            return self.indexOf(item) == pos && item;
                                         });
     
                                         var formData = {};
                                         fields.forEach(function(name){
                                            var element = elements[name];
                                            
                                            // singular form elements just have one value
                                            formData[name] = element.value;
     
                                            // when our element has multiple items, get their values
                                            if (element.length) {
                                            var data = [];
                                            for (var i = 0; i < element.length; i++) {
                                               var item = element.item(i);
                                               if (item.checked || item.selected) {
                                                  data.push(item.value);
                                               }
                                            }
                                            formData[name] = data.join(', ');
                                            }
                                         });
     
                                         // add form-specific values into the data
                                         formData.formDataNameOrder = JSON.stringify(fields);
                                         formData.formGoogleSheetName = form.dataset.sheet || "responses"; // default sheet name
                                         formData.formGoogleSendEmail
                                            = form.dataset.email || ""; // no email by default
     
                                         return {data: formData, honeypot: honeypot};
                                      }
     
                                      function handleFormSubmit(event) {  // handles form submit without any jquery
                                         event.preventDefault();           // we are submitting via xhr below
                                         var form = event.target;
                                         var formData = getFormData(form);
                                         var data = formData.data;
     
                                         // If a honeypot field is filled, assume it was done so by a spam bot.
                                         if (formData.honeypot) {
                                            return false;
                                         }
     
                                         disableAllButtons(form);
                                         var url = form.action;
                                         var xhr = new XMLHttpRequest();
                                         xhr.open('POST', url);
                                         // xhr.withCredentials = true;
                                         xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                                         xhr.onreadystatechange = function() {
                                            if (xhr.readyState === 4 && xhr.status === 200) {
                                               form.reset();
                                               var formElements = form.querySelector(".form-elements")
                                               if (formElements) {
                                                  formElements.style.display = "none"; // hide form
                                               }
                                               var thankYouMessage = form.querySelector(".thankyou_message");
                                               if (thankYouMessage) {
                                                  thankYouMessage.style.display = "block";
                                                  alert("메일 전송에 성공했습니다. 확인 후 회신드리겠습니다.");
                                               }
                                            }
                                         };
                                         // url encode form data for sending as post data
                                         var encoded = Object.keys(data).map(function(k) {
                                            return encodeURIComponent(k) + "=" + encodeURIComponent(data[k]);
                                         }).join('&');
                                         xhr.send(encoded);
                                      }
                                      
                                      function loaded() {
                                         // bind to the submit event of our form
                                         var forms = document.querySelectorAll("form.gform");
                                         for (var i = 0; i < forms.length; i++) {
                                            forms[i].addEventListener("submit", handleFormSubmit, false);
                                         }
                                      };
                                      document.addEventListener("DOMContentLoaded", loaded, false);
     
                                      function disableAllButtons(form) {
                                         var buttons = form.querySelectorAll("button");
                                         for (var i = 0; i < buttons.length; i++) {
                                            buttons[i].disabled = true;
                                         }
                                      }
                                      })();
                                </script>
                                <div class="form-group">
                                   <button class="btn btn-success" id="submitBtn">SEND MESSAGE</button>
                                </div>

                             </div>
                          </div>
     
                          <div style="display:none;" class="thankyou_message">
                            <br>
                             <h2 style="text-align:center;font-size:15pt; font-weight:700; color:gray;"><em>Thank You for Connecting us !!<br>We will get back to you soon !! </em></h2>
                          </div>
                       </form>
              </div>
           </article>
        </div>
     </div>
     
</body>
</html>